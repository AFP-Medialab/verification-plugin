/*!*************************************************************************
 * Copyright 2021 Adobe
 * All Rights Reserved.
 *
 * NOTICE: Adobe permits you to use, modify, and distribute this file in
 * accordance with the terms of the Adobe license agreement accompanying
 * it. 
 **************************************************************************/
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){return Object.getOwnPropertyNames(n).reduce((function(e,t){return Object.defineProperty(e,t,{value:n[t],enumerable:!0})}),{})}let e;const t=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});t.decode();let r=new Uint8Array;function o(){return 0===r.byteLength&&(r=new Uint8Array(e.memory.buffer)),r}function _(n,e){return t.decode(o().subarray(n,n+e))}let c=0;const i=new TextEncoder("utf-8"),u="function"==typeof i.encodeInto?function(n,e){return i.encodeInto(n,e)}:function(n,e){const t=i.encode(n);return e.set(t),{read:n.length,written:t.length}};function b(n,e,t){if(void 0===t){const t=i.encode(n),r=e(t.length);return o().subarray(r,r+t.length).set(t),c=t.length,r}let r=n.length,_=e(r);const b=o();let f=0;for(;f<r;f++){const e=n.charCodeAt(f);if(e>127)break;b[_+f]=e}if(f!==r){0!==f&&(n=n.slice(f)),_=t(_,r,r=f+3*n.length);const e=o().subarray(_+f,_+r);f+=u(n,e).written}return c=f,_}function f(n){return null==n}let a=new Int32Array;function g(){return 0===a.byteLength&&(a=new Int32Array(e.memory.buffer)),a}let w,s=new Float64Array;function l(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=l(n[0]));for(let r=1;r<e;r++)t+=", "+l(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}function d(n){try{const o=e.__wbindgen_add_to_stack_pointer(-16);e.scan_array_buffer(o,n);var t=g()[o/4+0],r=g()[o/4+1];if(g()[o/4+2])throw function(n){const t=e.__wbindgen_export_2.get(n);return e.__externref_table_dealloc(n),t}(r);return t>>>0}finally{e.__wbindgen_add_to_stack_pointer(16)}}function y(){const n={wbg:{}};return n.wbg.__wbg_isArray_27c46c67f498e15d=function(n){return Array.isArray(n)},n.wbg.__wbg_length_6e3bbe7c8bd4dbd8=function(n){return n.length},n.wbg.__wbg_get_57245cc7d7c7619d=function(n,e){return n[e>>>0]},n.wbg.__wbg_isSafeInteger_dfa0593e8d7ac35a=function(n){return Number.isSafeInteger(n)},n.wbg.__wbindgen_string_new=function(n,e){return _(n,e)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},n.wbg.__wbg_stack_658279fe44541cf6=function(n,t){const r=b(t.stack,e.__wbindgen_malloc,e.__wbindgen_realloc),o=c;g()[n/4+1]=o,g()[n/4+0]=r},n.wbg.__wbg_error_f851667af71bcfc6=function(n,t){try{console.error(_(n,t))}finally{e.__wbindgen_free(n,t)}},n.wbg.__wbg_length_9e1ae1900cb0fbd5=function(n){return n.length},n.wbg.__wbindgen_memory=function(){return e.memory},n.wbg.__wbg_buffer_3f3d764d4747d564=function(n){return n.buffer},n.wbg.__wbg_new_8c3f0052272a457a=function(n){return new Uint8Array(n)},n.wbg.__wbg_set_83db9690f9353e79=function(n,e,t){n.set(e,t>>>0)},n.wbg.__wbindgen_error_new=function(n,e){return new Error(_(n,e))},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return n==e},n.wbg.__wbindgen_boolean_get=function(n){return"boolean"==typeof n?n?1:0:2},n.wbg.__wbindgen_string_get=function(n,t){const r="string"==typeof t?t:void 0;var o=f(r)?0:b(r,e.__wbindgen_malloc,e.__wbindgen_realloc),_=c;g()[n/4+1]=_,g()[n/4+0]=o},n.wbg.__wbindgen_number_get=function(n,t){const r="number"==typeof t?t:void 0;(0===s.byteLength&&(s=new Float64Array(e.memory.buffer)),s)[n/8+1]=f(r)?0:r,g()[n/4+0]=!f(r)},n.wbg.__wbg_instanceof_Uint8Array_971eeda69eb75003=function(n){let e;try{e=n instanceof Uint8Array}catch{e=!1}return e},n.wbg.__wbg_instanceof_ArrayBuffer_e5e48f4762c5610b=function(n){let e;try{e=n instanceof ArrayBuffer}catch{e=!1}return e},n.wbg.__wbindgen_debug_string=function(n,t){const r=b(l(t),e.__wbindgen_malloc,e.__wbindgen_realloc),o=c;g()[n/4+1]=o,g()[n/4+0]=r},n.wbg.__wbindgen_throw=function(n,e){throw new Error(_(n,e))},n.wbg.__wbindgen_init_externref_table=function(){const n=e.__wbindgen_export_2,t=n.grow(4);n.set(0,void 0),n.set(t+0,void 0),n.set(t+1,null),n.set(t+2,!0),n.set(t+3,!1)},n}async function m(n){void 0===n&&(n=new URL("detector_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const t=y();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:o,module:_}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,t);return function(n,t){return e=n.exports,m.__wbindgen_wasm_module=t,s=new Float64Array,a=new Int32Array,r=new Uint8Array,e.__wbindgen_start(),e}(o,_)}const p=new Array(128).fill(void 0);function h(n){return p[n]}p.push(void 0,null,!0,!1);let A=p.length;function v(n){const e=h(n);return function(n){n<132||(p[n]=A,A=n)}(n),e}const S="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&S.decode();let R=null;function U(){return null!==R&&0!==R.byteLength||(R=new Uint8Array(w.memory.buffer)),R}function k(n,e){return n>>>=0,S.decode(U().subarray(n,n+e))}function W(n){A===p.length&&p.push(p.length+1);const e=A;return A=p[e],p[e]=n,e}function x(n){return null==n}let I=null;let j=null;function F(){return null!==j&&0!==j.byteLength||(j=new Int32Array(w.memory.buffer)),j}let M=0;const E="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},O="function"==typeof E.encodeInto?function(n,e){return E.encodeInto(n,e)}:function(n,e){const t=E.encode(n);return e.set(t),{read:n.length,written:t.length}};function L(n,e,t){if(void 0===t){const t=E.encode(n),r=e(t.length,1)>>>0;return U().subarray(r,r+t.length).set(t),M=t.length,r}let r=n.length,o=e(r,1)>>>0;const _=U();let c=0;for(;c<r;c++){const e=n.charCodeAt(c);if(e>127)break;_[o+c]=e}if(c!==r){0!==c&&(n=n.slice(c)),o=t(o,r,r=c+3*n.length,1)>>>0;const e=U().subarray(o+c,o+r);c+=O(n,e).written,o=t(o,r,c,1)>>>0}return M=c,o}function T(n){const e=typeof n;if("number"==e||"boolean"==e||null==n)return`${n}`;if("string"==e)return`"${n}"`;if("symbol"==e){const e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){const e=n.length;let t="[";e>0&&(t+=T(n[0]));for(let r=1;r<e;r++)t+=", "+T(n[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(!(t.length>1))return toString.call(n);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:r}const q="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((n=>{w.__wbindgen_export_2.get(n.dtor)(n.a,n.b)}));function $(n,e,t){w._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h11a07da2247eb1f9(n,e,W(t))}function B(n,e,t){const r=L(e,w.__wbindgen_malloc,w.__wbindgen_realloc),o=M;var _=x(t)?0:L(t,w.__wbindgen_malloc,w.__wbindgen_realloc),c=M;return v(w.getManifestStoreFromArrayBuffer(W(n),r,o,_,c))}function C(n,e,t,r){const o=L(t,w.__wbindgen_malloc,w.__wbindgen_realloc),_=M;var c=x(r)?0:L(r,w.__wbindgen_malloc,w.__wbindgen_realloc),i=M;return v(w.getManifestStoreFromManifestAndAsset(W(n),W(e),o,_,c,i))}function D(n,e){try{return n.apply(this,e)}catch(n){w.__wbindgen_exn_store(W(n))}}function N(){const n={wbg:{}};return n.wbg.__wbindgen_object_drop_ref=function(n){v(n)},n.wbg.__wbindgen_string_new=function(n,e){return W(k(n,e))},n.wbg.__wbg_debug_9721f1bee7bcd226=function(n,e){console.debug(h(n),h(e))},n.wbg.__wbg_debug_5fb96680aecf5dc8=function(n){console.debug(h(n))},n.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return W(new Array)},n.wbg.__wbg_push_a5b05aedc7234f9f=function(n,e){return h(n).push(h(e))},n.wbg.__wbindgen_is_falsy=function(n){return!h(n)},n.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},n.wbg.__wbindgen_object_clone_ref=function(n){return W(h(n))},n.wbg.__wbg_Window_538c7e299a20cbe1=function(n){return W(h(n).Window)},n.wbg.__wbindgen_is_undefined=function(n){return void 0===h(n)},n.wbg.__wbg_WorkerGlobalScope_a4d1b9cd0e592955=function(n){return W(h(n).WorkerGlobalScope)},n.wbg.__wbg_crypto_11bbe2f671f5bc19=function(){return D((function(n){return W(h(n).crypto)}),arguments)},n.wbg.__wbg_crypto_88609e89336ce904=function(){return D((function(n){return W(h(n).crypto)}),arguments)},n.wbg.__wbg_subtle_3588877c3898dad1=function(n){return W(h(n).subtle)},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){return W(new Object)},n.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(n){return W(new Uint8Array(n>>>0))},n.wbg.__wbg_length_c20a40f15020d68a=function(n){return h(n).length},n.wbg.__wbg_set_a47bac70306a19a7=function(n,e,t){h(n).set(h(e),t>>>0)},n.wbg.__wbg_buffer_dd7f74bc60f1faab=function(n){return W(h(n).buffer)},n.wbg.__wbindgen_number_new=function(n){return W(n)},n.wbg.__wbg_set_d4638f722068f043=function(n,e,t){h(n)[e>>>0]=v(t)},n.wbg.__wbg_new_d9bc3a0147634640=function(){return W(new Map)},n.wbg.__wbg_set_f975102236d3c502=function(n,e,t){h(n)[v(e)]=v(t)},n.wbg.__wbg_set_8417257aaedc936b=function(n,e,t){return W(h(n).set(h(e),h(t)))},n.wbg.__wbindgen_is_string=function(n){return"string"==typeof h(n)},n.wbg.__wbg_String_b9412f8799faab3e=function(n,e){const t=L(String(h(e)),w.__wbindgen_malloc,w.__wbindgen_realloc),r=M;F()[n/4+1]=r,F()[n/4+0]=t},n.wbg.__wbg_new_28c511d9baebfa89=function(n,e){return W(new Error(k(n,e)))},n.wbg.__wbg_setname_c145a9049d9af5bf=function(n,e,t){h(n).name=k(e,t)},n.wbg.__wbg_new_81740750da40724f=function(n,e){try{var t={a:n,b:e};const r=new Promise(((n,e)=>{const r=t.a;t.a=0;try{return function(n,e,t,r){w.wasm_bindgen__convert__closures__invoke2_mut__h6664b62b98e1bda3(n,e,W(t),W(r))}(r,t.b,n,e)}finally{t.a=r}}));return W(r)}finally{t.a=t.b=0}},n.wbg.__wbg_new_63b92bc8671ed464=function(n){return W(new Uint8Array(h(n)))},n.wbg.__wbg_from_89e3fc3ba5e6fb48=function(n){return W(Array.from(h(n)))},n.wbg.__wbindgen_bigint_from_u64=function(n){return W(BigInt.asUintN(64,n))},n.wbg.__wbindgen_error_new=function(n,e){return W(new Error(k(n,e)))},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(n){return Array.isArray(h(n))},n.wbg.__wbg_length_cd7af8117672b8b8=function(n){return h(n).length},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(n,e){return W(h(n)[e>>>0])},n.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(n){return Number.isSafeInteger(h(n))},n.wbg.__wbindgen_as_number=function(n){return+h(n)},n.wbg.__wbg_new0_7d84e5b2cd9fdc73=function(){return W(new Date)},n.wbg.__wbg_getTime_2bc4375165f02d15=function(n){return h(n).getTime()},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return W(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(n,e){const t=L(h(e).stack,w.__wbindgen_malloc,w.__wbindgen_realloc),r=M;F()[n/4+1]=r,F()[n/4+0]=t},n.wbg.__wbg_error_f851667af71bcfc6=function(n,e){let t,r;try{t=n,r=e,console.error(k(n,e))}finally{w.__wbindgen_free(t,r,1)}},n.wbg.__wbg_crypto_d05b68a3572bb8ca=function(n){return W(h(n).crypto)},n.wbg.__wbindgen_is_object=function(n){const e=h(n);return"object"==typeof e&&null!==e},n.wbg.__wbg_process_b02b3570280d0366=function(n){return W(h(n).process)},n.wbg.__wbg_versions_c1cb42213cedf0f5=function(n){return W(h(n).versions)},n.wbg.__wbg_node_43b1089f407e4ec2=function(n){return W(h(n).node)},n.wbg.__wbg_require_9a7e0f667ead4995=function(){return D((function(){return W(module.require)}),arguments)},n.wbg.__wbindgen_is_function=function(n){return"function"==typeof h(n)},n.wbg.__wbg_msCrypto_10fc94afee92bd76=function(n){return W(h(n).msCrypto)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return D((function(){return W(self.self)}),arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return D((function(){return W(window.window)}),arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return D((function(){return W(globalThis.globalThis)}),arguments)},n.wbg.__wbg_global_207b558942527489=function(){return D((function(){return W(global.global)}),arguments)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(n,e){return W(new Function(k(n,e)))},n.wbg.__wbg_call_27c0f87801dedf93=function(){return D((function(n,e){return W(h(n).call(h(e)))}),arguments)},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return D((function(n,e,t){return W(h(n).call(h(e),h(t)))}),arguments)},n.wbg.__wbindgen_memory=function(){return W(w.memory)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(n){return W(h(n).buffer)},n.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(n,e,t){return W(new Uint8Array(h(n),e>>>0,t>>>0))},n.wbg.__wbg_set_1f9b04f170055d33=function(){return D((function(n,e,t){return Reflect.set(h(n),h(e),h(t))}),arguments)},n.wbg.__wbindgen_jsval_loose_eq=function(n,e){return h(n)==h(e)},n.wbg.__wbindgen_boolean_get=function(n){const e=h(n);return"boolean"==typeof e?e?1:0:2},n.wbg.__wbindgen_number_get=function(n,e){const t=h(e),r="number"==typeof t?t:void 0;(null!==I&&0!==I.byteLength||(I=new Float64Array(w.memory.buffer)),I)[n/8+1]=x(r)?0:r,F()[n/4+0]=!x(r)},n.wbg.__wbindgen_string_get=function(n,e){const t=h(e),r="string"==typeof t?t:void 0;var o=x(r)?0:L(r,w.__wbindgen_malloc,w.__wbindgen_realloc),_=M;F()[n/4+1]=_,F()[n/4+0]=o},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(n){let e;try{e=h(n)instanceof Uint8Array}catch(n){e=!1}return e},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(n){let e;try{e=h(n)instanceof ArrayBuffer}catch(n){e=!1}return e},n.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return D((function(n,e){h(n).randomFillSync(v(e))}),arguments)},n.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(n,e,t){return W(h(n).subarray(e>>>0,t>>>0))},n.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return D((function(n,e){h(n).getRandomValues(h(e))}),arguments)},n.wbg.__wbindgen_debug_string=function(n,e){const t=L(T(h(e)),w.__wbindgen_malloc,w.__wbindgen_realloc),r=M;F()[n/4+1]=r,F()[n/4+0]=t},n.wbg.__wbindgen_throw=function(n,e){throw new Error(k(n,e))},n.wbg.__wbg_then_0c86a60e8fcfe9f6=function(n,e){return W(h(n).then(h(e)))},n.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(n){queueMicrotask(h(n))},n.wbg.__wbg_then_a73caa9a87991566=function(n,e,t){return W(h(n).then(h(e),h(t)))},n.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(n){return W(h(n).queueMicrotask)},n.wbg.__wbg_resolve_b0083a7967828ec8=function(n){return W(Promise.resolve(h(n)))},n.wbg.__wbindgen_cb_drop=function(n){const e=v(n).original;if(1==e.cnt--)return e.a=0,!0;return!1},n.wbg.__wbg_debug_7d879afce6cf56cb=function(n,e,t,r){console.debug(h(n),h(e),h(t),h(r))},n.wbg.__wbg_error_696630710900ec44=function(n,e,t,r){console.error(h(n),h(e),h(t),h(r))},n.wbg.__wbg_info_80803d9a3f0aad16=function(n,e,t,r){console.info(h(n),h(e),h(t),h(r))},n.wbg.__wbg_log_151eb4333ef0fe39=function(n,e,t,r){console.log(h(n),h(e),h(t),h(r))},n.wbg.__wbg_warn_5d3f783b0bae8943=function(n,e,t,r){console.warn(h(n),h(e),h(t),h(r))},n.wbg.__wbg_importKey_ffc13175d345168c=function(){return D((function(n,e,t,r,o,_,c){return W(h(n).importKey(k(e,t),h(r),h(o),0!==_,h(c)))}),arguments)},n.wbg.__wbg_verify_3f943c5904222a39=function(){return D((function(n,e,t,r,o){return W(h(n).verify(h(e),h(t),h(r),h(o)))}),arguments)},n.wbg.__wbindgen_closure_wrapper6201=function(n,e,t){const r=function(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},_=(...n)=>{o.cnt++;const e=o.a;o.a=0;try{return r(e,o.b,...n)}finally{0==--o.cnt?(w.__wbindgen_export_2.get(o.dtor)(e,o.b),q.unregister(o)):o.a=e}};return _.original=o,q.register(_,o,o),_}(n,e,210,$);return W(r)},n}async function P(n){if(void 0!==w)return w;void 0===n&&(n=new URL("toolkit_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("c2pa.worker.min.js",document.baseURI).href));const e=N();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await async function(n,e){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,e)}catch(e){if("application/wasm"==n.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await n,e);return function(n,e){return w=n.exports,P.__wbindgen_wasm_module=e,I=null,j=null,R=null,w.__wbindgen_start(),w}(t,r)}const z={compileWasm:async n=>WebAssembly.compile(n),getReport:async(n,e,t,r)=>(await P(n),B(e,t,r)),async getReportFromAssetAndManifestBuffer(n,e,t,r){await P(n);return C(e,await t.arrayBuffer(),t.type,r)},async scanInput(n,e){await m(n);try{return{found:!0,offset:await d(e)}}catch(n){return{found:!1}}}};var G;G=z,onmessage=async e=>{const{args:t,method:r}=e.data;try{const n=await G[r](...t);postMessage({type:"success",data:n})}catch(e){postMessage({type:"error",error:n(e)})}}}));
